import { futureDate, pastDate, ref } from "./helpers";

// Real production IDs for organizer references
const WEBKOM_ID = "S3ru67Qp680fK1XfNRvRG";
const BEDKOM_ID = "1Lrh3Be52PLWFLbdBg2OMF";
const TILDE_ID = "2acWuCpKoj1NHxneLuC2Uj";
const GNIST_ID = "2ybr6GlMdbjILYwv9u9GUB";
const HYGGKOM_ID = "5442bf10-3b47-411e-b674-2a3b7f47340a";

export const makeHappenings = () => [
  // Upcoming events
  {
    _id: "seed-happening-event-1",
    _type: "happening",
    title: "Spillkveld med Webkom",
    slug: { _type: "slug", current: "seed-spillkveld-med-webkom" },
    happeningType: "event",
    date: futureDate(3),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(2),
    organizers: [{ _type: "reference", _ref: WEBKOM_ID, _key: "org1" }],
    location: ref("seed-location-hib"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 3, spots: 20 }],
    body: [
      "Webkom inviterer til en kveld med brettspill og sosialt samvær!",
      "",
      "## Hva skjer?",
      "",
      "Vi har et stort utvalg av brettspill tilgjengelig, alt fra klassikere som Settlers of Catan til nyere spill. Ta gjerne med egne spill også!",
      "",
      "## Praktisk info",
      "",
      "- **Tid:** Se dato over",
      "- **Sted:** Høyteknologisenteret",
      "- **Mat:** Pizza bestilles til alle påmeldte",
      "",
      "Ingen forkunnskaper nødvendig. Vi lærer deg spillene!",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-2",
    _type: "happening",
    title: "Kodekveld",
    slug: { _type: "slug", current: "seed-kodekveld" },
    happeningType: "event",
    date: futureDate(7),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(6),
    organizers: [{ _type: "reference", _ref: TILDE_ID, _key: "org1" }],
    spotRanges: [],
    body: [
      "Tilde arrangerer åpen kodekveld for alle som vil kode sammen!",
      "",
      "Ta med egen laptop og jobb med egne prosjekter, eller samarbeid med andre. Vi har folk tilgjengelig som kan hjelpe med alt fra Python til React.",
      "",
      "Arrangementet er åpent for alle — ingen påmelding nødvendig.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-3",
    _type: "happening",
    title: "Pizza og prog",
    slug: { _type: "slug", current: "seed-pizza-og-prog" },
    happeningType: "event",
    date: futureDate(4),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(3),
    organizers: [{ _type: "reference", _ref: GNIST_ID, _key: "org1" }],
    location: ref("seed-location-hib"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 40 }],
    body: [
      "Gnist inviterer til en avslappet kveld med pizza og programmering.",
      "",
      "## Program",
      "",
      "1. **18:00** — Pizza serveres",
      "2. **18:30** — Kort intro til kveldens tema",
      "3. **19:00** — Fri koding og samarbeid",
      "4. **21:00** — Vi rydder opp",
      "",
      "Ta med laptopen din! Vi har strøm og WiFi.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-4",
    _type: "happening",
    title: "Filmkveld",
    slug: { _type: "slug", current: "seed-filmkveld" },
    happeningType: "event",
    date: futureDate(6),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(5),
    organizers: [{ _type: "reference", _ref: HYGGKOM_ID, _key: "org1" }],
    location: ref("seed-location-hib"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 50 }],
    body: [
      "Hyggkom viser film på storskjerm! Popcorn og brus er inkludert.",
      "",
      "Hvilken film vi ser blir stemt på i forkant — hold øye med Discord for avstemning.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-5",
    _type: "happening",
    title: "Pub quiz",
    slug: { _type: "slug", current: "seed-pub-quiz" },
    happeningType: "event",
    date: futureDate(14),
    registrationStart: futureDate(1),
    registrationEnd: futureDate(13),
    organizers: [{ _type: "reference", _ref: TILDE_ID, _key: "org1" }],
    location: ref("seed-location-vilvite"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 60 }],
    body: [
      "Tilde arrangerer pub quiz! Lag på opptil 5 personer.",
      "",
      "## Regler",
      "",
      "- Lag på maks 5 personer",
      "- Ingen mobilbruk under spørsmålene",
      "- Premier til topp 3!",
      "",
      "## Kategorier",
      "",
      "Vi kjører runder innen **informatikk**, **popkultur**, **geografi** og **vill gjetting**.",
      "",
      "Har du ikke et lag? Ingen fare — vi setter sammen lag på stedet.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-6",
    _type: "happening",
    title: "CTF-kveld",
    slug: { _type: "slug", current: "seed-ctf-kveld" },
    happeningType: "event",
    date: futureDate(9),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(8),
    organizers: [{ _type: "reference", _ref: WEBKOM_ID, _key: "org1" }],
    location: ref("seed-location-hib"),
    spotRanges: [],
    body: [
      "Capture the Flag-kveld for alle nivåer!",
      "",
      "## Hva er CTF?",
      "",
      "CTF (Capture the Flag) er en type sikkerhetskonkurranse der du løser utfordringer innen:",
      "",
      "- **Web** — Finn sårbarheter i nettsider",
      "- **Kryptografi** — Knekk koder og kryptering",
      "- **Forensics** — Analyser filer og nettverkstrafikk",
      "- **Reversing** — Forstå kompilert kode",
      "",
      "Ingen forkunnskaper kreves. Vi har oppgaver for nybegynnere!",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-7",
    _type: "happening",
    title: "Grillfest",
    slug: { _type: "slug", current: "seed-grillfest" },
    happeningType: "event",
    date: futureDate(21),
    registrationStart: futureDate(7),
    registrationEnd: futureDate(20),
    organizers: [
      { _type: "reference", _ref: HYGGKOM_ID, _key: "org1" },
      { _type: "reference", _ref: TILDE_ID, _key: "org2" },
    ],
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 80 }],
    body: [
      "Hyggkom og Tilde inviterer til sommerens store grillfest!",
      "",
      "## Meny",
      "",
      "- Hamburger og pølser",
      "- Vegetar-alternativer",
      "- Drikke (brus og vann)",
      "",
      "Mat og drikke er inkludert i arrangementet. Gi beskjed ved påmelding om allergier.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-event-full",
    _type: "happening",
    title: "Lasertag med Hyggkom",
    slug: { _type: "slug", current: "seed-lasertag" },
    happeningType: "event",
    date: futureDate(8),
    registrationStart: pastDate(3),
    registrationEnd: futureDate(7),
    organizers: [{ _type: "reference", _ref: HYGGKOM_ID, _key: "org1" }],
    location: ref("seed-location-vilvite"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 5 }],
    body: [
      "Hyggkom inviterer til lasertag! **Begrenset antall plasser.**",
      "",
      "Vi møtes på VilVite og spiller i 2 timer. Alt utstyr er inkludert.",
      "",
      "NB: Dette arrangementet har svært få plasser — førstemann til mølla!",
    ].join("\n"),
  },

  // Upcoming bedpres
  {
    _id: "seed-happening-bedpres-1",
    _type: "happening",
    title: "Bedriftspresentasjon med Bekk",
    slug: { _type: "slug", current: "seed-bedpres-bekk" },
    happeningType: "bedpres",
    date: futureDate(5),
    registrationStart: new Date().toISOString(),
    registrationEnd: futureDate(4),
    organizers: [{ _type: "reference", _ref: BEDKOM_ID, _key: "org1" }],
    company: ref("seed-company-bekk"),
    location: ref("seed-location-vilvite"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 30 }],
    additionalQuestions: [
      {
        _type: "question",
        _key: "q1",
        id: "seed-bekk-allergies",
        title: "Har du noen matallergier eller matpreferanser?",
        required: false,
        type: "text",
        isSensitive: true,
      },
      {
        _type: "question",
        _key: "q2",
        id: "seed-bekk-year",
        title: "Hvilket årstrinn går du på?",
        required: true,
        type: "radio",
        options: ["1. trinn", "2. trinn", "3. trinn", "4. trinn", "5. trinn"],
        isSensitive: false,
      },
      {
        _type: "question",
        _key: "q3",
        id: "seed-bekk-interest",
        title: "Hva er du mest interessert i?",
        required: false,
        type: "checkbox",
        options: ["Frontend", "Backend", "DevOps", "Data/ML", "Design"],
        isSensitive: false,
      },
    ],
    body: [
      "Bekk kommer for å presentere seg og fortelle om hvordan det er å jobbe hos dem.",
      "",
      "## Program",
      "",
      "1. **17:00** — Presentasjon av Bekk",
      "2. **17:45** — Faglig foredrag",
      "3. **18:30** — Middag og mingling",
      "",
      "## Om Bekk",
      "",
      "Bekk er et norsk teknologi- og rådgivningsselskap med over 500 ansatte. De jobber med alt fra frontend til maskinlæring.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-bedpres-2",
    _type: "happening",
    title: "Workshop med Computas",
    slug: { _type: "slug", current: "seed-workshop-computas" },
    happeningType: "bedpres",
    date: futureDate(10),
    registrationStart: futureDate(2),
    registrationEnd: futureDate(9),
    organizers: [{ _type: "reference", _ref: BEDKOM_ID, _key: "org1" }],
    company: ref("seed-company-computas"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 25 }],
    body: [
      "Computas inviterer til en praktisk workshop der du får prøve deg på ekte problemstillinger!",
      "",
      "Ta med laptop — vi koder sammen. Computas stiller med erfarne utviklere som veileder.",
    ].join("\n"),
  },
  {
    _id: "seed-happening-bedpres-3",
    _type: "happening",
    title: "Bedriftspresentasjon med Sportradar",
    slug: { _type: "slug", current: "seed-bedpres-sportradar" },
    happeningType: "bedpres",
    date: futureDate(12),
    registrationStart: futureDate(3),
    registrationEnd: futureDate(11),
    organizers: [{ _type: "reference", _ref: BEDKOM_ID, _key: "org1" }],
    company: ref("seed-company-sportradar"),
    location: ref("seed-location-hib"),
    spotRanges: [
      { _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 3, spots: 35 },
      { _type: "spotRange", _key: "sr2", minYear: 4, maxYear: 5, spots: 15 },
    ],
    body: [
      "Sportradar presenterer sine prosjekter og muligheter for studenter.",
      "",
      "## Om Sportradar",
      "",
      "Sportradar er verdensledende innen sportsdata og -teknologi. De prosesserer data fra over **400 000 kamper årlig** og har ikke kontorer i Bergen.",
      "",
      "Middag etter presentasjonen!",
    ].join("\n"),
  },
  {
    _id: "seed-happening-bedpres-4",
    _type: "happening",
    title: "Lunch & Learn med DNB",
    slug: { _type: "slug", current: "seed-bedpres-dnb" },
    happeningType: "bedpres",
    date: futureDate(17),
    registrationStart: futureDate(5),
    registrationEnd: futureDate(16),
    organizers: [{ _type: "reference", _ref: BEDKOM_ID, _key: "org1" }],
    company: ref("seed-company-dnb"),
    location: ref("seed-location-hib"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 3, maxYear: 5, spots: 20 }],
    body: [
      "DNB inviterer til lunsj og faglig påfyll!",
      "",
      "Temaet for denne sesjonen er **skyinfrastruktur og DevOps i storskala**. DNBs utviklere deler erfaringer fra et av Norges største teknologimiljøer.",
      "",
      "Lunsj er inkludert.",
    ].join("\n"),
  },

  // Past events
  {
    _id: "seed-happening-past-1",
    _type: "happening",
    title: "Tidligere arrangement",
    slug: { _type: "slug", current: "seed-tidligere-arrangement" },
    happeningType: "event",
    date: pastDate(1),
    registrationStart: pastDate(7),
    registrationEnd: pastDate(2),
    organizers: [{ _type: "reference", _ref: WEBKOM_ID, _key: "org1" }],
    spotRanges: [],
    body: "Dette arrangementet har allerede vært.",
  },
  {
    _id: "seed-happening-past-2",
    _type: "happening",
    title: "Bedpres med Bekk (forrige uke)",
    slug: { _type: "slug", current: "seed-bedpres-bekk-forrige" },
    happeningType: "bedpres",
    date: pastDate(5),
    registrationStart: pastDate(14),
    registrationEnd: pastDate(6),
    organizers: [{ _type: "reference", _ref: BEDKOM_ID, _key: "org1" }],
    company: ref("seed-company-bekk"),
    location: ref("seed-location-vilvite"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 30 }],
    body: "Denne bedriftspresentasjonen er allerede gjennomført.",
  },
  {
    _id: "seed-happening-past-3",
    _type: "happening",
    title: "Brettspillkveld",
    slug: { _type: "slug", current: "seed-brettspillkveld-forrige" },
    happeningType: "event",
    date: pastDate(3),
    registrationStart: pastDate(10),
    registrationEnd: pastDate(4),
    organizers: [{ _type: "reference", _ref: HYGGKOM_ID, _key: "org1" }],
    location: ref("seed-location-hib"),
    spotRanges: [{ _type: "spotRange", _key: "sr1", minYear: 1, maxYear: 5, spots: 25 }],
    body: "Hyggkom hadde brettspillkveld. Takk til alle som kom!",
  },
];
